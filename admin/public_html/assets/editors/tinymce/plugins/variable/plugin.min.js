(function () {
  var variable = (function () {
      'use strict';
/*
      tinymce.PluginManager.add("variable", function (editor, url) {

        var _dialog = false;
        var _type_table = false;
        var _typeOptions = [];

        editor.ui.registry.addMenuButton('variable', {
          icon: 'code-sample',
          text: 'Inserir Variáveis',
          fetch: function (callback) {
            var items = [
              {
                type: 'nestedmenuitem',
                text: 'Dados do Participante',
                getSubmenuItems: function() {
                  return [
                    {
                      type: 'menuitem',
                      text: 'Nome',
                      onAction: function() {
                        editor.insertContent('{{NOME_PARTICIPANTE}}');
                      }
                    },{
                      type: 'menuitem',
                      text: 'E-mail',
                      onAction: function() {
                        editor.insertContent('{{EMAIL_PARTICIPANTE}}');
                      }
                    }, {
                      type: 'menuitem',
                      text: 'Empresa',
                      onAction: function() {
                        editor.insertContent('{{EMPRESA_PARTICIPANTE}}');                
                      }
                    }, {
                      type: 'menuitem',
                      text: 'Idade',
                      onAction: function() {
                        editor.insertContent('{{IDADE_PARTICIPANTE}}');
                      }
                    }
                  ]
                }
              }, 
              {
                type: 'nestedmenuitem',
                text: 'Informações da Pesquisa',
                getSubmenuItems: function() {
                  return [
                    {
                      type: 'menuitem',
                      text: 'Data da Realização',
                      onAction: function() {
                        editor.insertContent('{{DATA_PESQUISA}}');
                      }
                    }, {
                      type: 'nestedmenuitem',
                      text: 'Resultado',
                      getSubmenuItems: function() {
                        return [
                          {
                            type: 'menuitem',
                            text: 'Questão', 
                            onAction: function() {
                              _onAction('RESULT_QUESTION_POINT');
                            }
                          },{
                            type: 'menuitem',
                            text: 'Fator',
                            onAction: function() {                             
                              _onAction('RESULT_FACTOR_POINT');
                            }
                          },{
                            type: 'menuitem',
                            text: 'Grupo',
                            onAction: function() {
                              _onAction('RESULT_GROUP_POINT');
                            }
                          }
                        ]
                      } 
                    }, {
                      type: 'nestedmenuitem',
                      text: 'Resultado Percentual',
                      getSubmenuItems: function() {
                        return [
                          {
                            type: 'menuitem',
                            text: 'Questão',
                            onAction: function() {                             
                              _onAction('RESULT_QUESTION');
                            }
                          },{
                            type: 'menuitem',
                            text: 'Fator',
                            onAction: function() {                             
                              _onAction('RESULT_FACTOR');
                            }
                          },{
                            type: 'menuitem',
                            text: 'Grupo',
                            onAction: function() {                             
                              _onAction('RESULT_GROUP');
                            }
                          }
                        ]
                      } 
                    },{
                      type: 'nestedmenuitem',
                      text: 'Legenda do Resultado',
                      getSubmenuItems: function() {
                        return [
                          {
                            type: 'menuitem',
                            text: 'Questão',
                            onAction: function() {                             
                              _onAction('RESULT_QUESTION_SUBTITLE');
                            }
                          },{
                            type: 'menuitem',
                            text: 'Fator',
                            onAction: function() {                             
                              _onAction('RESULT_FACTOR_SUBTITLE');
                            }
                          },{
                            type: 'menuitem',
                            text: 'Grupo',
                            onAction: function() {                             
                              _onAction('RESULT_GROUP_SUBTITLE');
                            }
                          }
                        ]
                      } 
                    }, {
                      type: 'nestedmenuitem',
                      text: 'Recomendações Piores Resultados',
                      getSubmenuItems: function() {
                        return [
                          {
                            type: 'menuitem',
                            text: 'Fator',
                            onAction: function() {                             
                              _onAction('RESULT_FACTOR_BAD');
                            }
                          },{
                            type: 'menuitem',
                            text: 'Grupo',
                            onAction: function() {                             
                              _onAction('RESULT_GROUP_BAD');
                            }
                          }
                        ]
                      } 
                    },
                  ]
                }
              }, 
              {
                type: 'menuitem',
                text: 'Abre Condicional SE',
                onAction: function() {
                  editor.insertContent('{{SE}}');
                }
              }, {
                type: 'menuitem',
                text: 'Fecha Condicional SE',
                onAction: function() {
                  editor.insertContent('{{/SE}}');
                }
              }
            ];
            callback(items);
          }});

          
          function _getDialogConfig()
          {

              return {
                  title: 'Inserir Variável',
                  body: {
                      type: 'panel',
                      items: [{
                          type: 'selectbox',
                          name: 'type',
                          label: 'Dropdown',
                          items: _typeOptions,
                          flex: true
                      }]
                  },
                  onSubmit: function (api) {
                      // insert markup
                      editor.insertContent('{{'+_type_table+'|' + api.getData().type + '}}');

                      // close the dialog
                      api.close();
                  },
                  buttons: [
                      {
                          text: 'Fechar',
                          type: 'cancel',
                          onclick: 'close'
                      },
                      {
                          text: 'Inserir',
                          type: 'submit',
                          primary: true,
                          enabled: false
                      }
                  ]
              };
          }


          function _onAction(TYPE_TABLE)
          {
              _type_table = TYPE_TABLE;

              _dialog = editor.windowManager.open(_getDialogConfig());


              _dialog.block('Carregando...');
              jQuery.post('views/system/includes/dynamicselect.php', 
                  {execute:'getItems', typeItem:_type_table},
                  function(valor){
                      setTimeout(function () {
                          _typeOptions = jQuery.parseJSON(valor);
                          _dialog.redial(_getDialogConfig());
                          _dialog.unblock();

                      }, 1000);

                  }
              )
          }

    });
*/
}());
})();

/*
tinymce.PluginManager.add('variable', function(editor, url) {
  // Add a button that opens a window
  editor.addButton('variable', {
    text: 'Inserir Variaveis',
	  type: 'menubutton',
    icon: false,
    menu: [{
        text: 'Abre Condicional SE',
        onclick: function() {
          editor.insertContent('{{SE}}');
        }
      }, {
        text: 'Fecha Condicional SE',
        onclick: function() {
          editor.insertContent('{{/SE}}');
        }
      }, {
        text: '{{NOME_ALUNO}}',
        onclick: function() {
          editor.insertContent('{{NOME_ALUNO}}');
        }
      }, {
        text: '{{NUMERO_MATRICULA}}',
        onclick: function() {
          editor.insertContent('{{NUMERO_MATRICULA}}');
        }
      }, {
        text: '{{CPF_ALUNO}}',
        onclick: function() {
          editor.insertContent('{{CPF_ALUNO}}');
        }
      }, {
        text: '{{RG_ALUNO}}',
        onclick: function() {
          editor.insertContent('{{RG_ALUNO}}');
        }
      }, {
        text: '{{ESTADO_CIVIL_ALUNO }}',
        onclick: function() {
          editor.insertContent('{{ESTADO_CIVIL_ALUNO}}');
        }
      }, {
        text: '{{LOGRADOURO_ALUNO}}',
        onclick: function() {
          editor.insertContent('{{LOGRADOURO_ALUNO}}');
        }
      }, {
        text: '{{COMPLEMENTO_ALUNO}}',
        onclick: function() {
          editor.insertContent('{{COMPLEMENTO_ALUNO}}');
        }
      }, {
        text: '{{CEP_ALUNO}}',
        onclick: function() {
          editor.insertContent('{{CEP_ALUNO}}');
        }
      }, {
        text: '{{CIDADE_ALUNO}}',
        onclick: function() {
          editor.insertContent('{{CIDADE_ALUNO}}');
        }
      }, {
        text: '{{ESTADO_ALUNO}}',
        onclick: function() {
          editor.insertContent('{{ESTADO_ALUNO}}');
        }
      }, {
        text: '{{TELEFONE_ALUNO}}',
        onclick: function() {
          editor.insertContent('{{TELEFONE_ALUNO}}');
        }
      }, {
        text: '{{NASCIMENTO_ALUNO}}',
        onclick: function() {
          editor.insertContent('{{NASCIMENTO_ALUNO}}');
        }
      }, {
        text: '{{TELEFONE_CELULAR_ALUNO}}',
        onclick: function() {
          editor.insertContent('{{TELEFONE_CELULAR_ALUNO}}');
        }
      }, {
        text: '{{EMAIL_ALUNO}}',
        onclick: function() {
          editor.insertContent('{{EMAIL_ALUNO}}');
        }
      }, {
        text: '{{NOME_CURSO}}',
        onclick: function() {
          editor.insertContent('{{NOME_CURSO}}');
        }
      }, {
        text: '{{HORAS_CURSO}}',
        onclick: function() {
          editor.insertContent('{{HORAS_CURSO}}');
        }
      }, {
        text: '{{VALOR_INSCRICAO}}',
        onclick: function() {
          editor.insertContent('{{VALOR_INSCRICAO}}');
        }
      }	, {
        text: '{{VALOR_CURSO}}',
        onclick: function() {
          editor.insertContent('{{VALOR_CURSO}}');
        }
      }, {
        text: '{{DESCONTO_INSCRICAO}}',
        onclick: function() {
          editor.insertContent('{{DESCONTO_INSCRICAO}}');
        }
      }, {
        text: '{{PARCELAS_INSCRICAO}}',
        onclick: function() {
          editor.insertContent('{{PARCELAS_INSCRICAO}}');
        }
      }, {
        text: '{{VALOR_PARCELAS_INSCRICAO}}',
        onclick: function() {
          editor.insertContent('{{VALOR_PARCELAS_INSCRICAO}}');
        }
      }, {
        text: '{{DIA_PARCELA_INSCRICAO}}',
        onclick: function() {
          editor.insertContent('{{DIA_PARCELA_INSCRICAO}}');
        }
      }, {
        text: '{{DATA_PRIMEIRA_PARCELA_INSCRICAO}}',
        onclick: function() {
          editor.insertContent('{{DATA_PRIMEIRA_PARCELA_INSCRICAO}}');
        }
      },  {
        text: '{{VALOR_PARCELA_ATUAL}}',
        onclick: function() {
          editor.insertContent('{{VALOR_PARCELA_ATUAL}}');
        }
      },  {
        text: '{{DATA_PARCELA_ATUAL}}',
        onclick: function() {
          editor.insertContent('{{DATA_PARCELA_ATUAL}}');
        }
      }, {
        text: '{{DATA_INICIO_TURMA}}',
        onclick: function() {
          editor.insertContent('{{DATA_INICIO_TURMA}}');
        }
      }, {
        text: '{{POLO_INSCRICAO}}',
        onclick: function() {
          editor.insertContent('{{POLO_INSCRICAO}}');
        }
      }, {
        text: '{{DATA_HORA_EXTENSO_INSCRICAO}}',
        onclick: function() {
          editor.insertContent('{{DATA_HORA_EXTENSO_INSCRICAO}}');
        }
      }, {
        text: '{{IP_INSCRICAO}}',
        onclick: function() {
          editor.insertContent('{{IP_INSCRICAO}}');
        }
      }, {
        text: '{{DATA_HORA_EXTENSO_ADITIVO_INSCRICAO}}',
        onclick: function() {
          editor.insertContent('{{DATA_HORA_EXTENSO_ADITIVO_INSCRICAO}}');
        }
      }, {
        text: '{{IP_ADITIVO_INSCRICAO}}',
        onclick: function() {
          editor.insertContent('{{IP_ADITIVO_INSCRICAO}}');
        }
      }

]
  });









  // Adds a menu item to the tools menu
  editor.addMenuItem('variable', {
    text: 'Inserir Variaveis',
setup: function(editor) {
    editor.addButton('mybutton', {
      type: 'menubutton',
      text: 'My button',
      icon: false,
      menu: [{
        text: 'Menu item 1',
        onclick: function() {
          editor.insertContent('&nbsp;<strong>Menu item 1 here!</strong>&nbsp;');
        }
      }, {
        text: 'Menu item 2',
        onclick: function() {
          editor.insertContent('&nbsp;<em>Menu item 2 here!</em>&nbsp;');
        }
      }]
    });
  }

  });
});
*/